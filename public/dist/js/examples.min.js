"use strict";var _this=void 0;!function(o){var e=o(document);o(window);o(".story-block .story-items").slick({slidesToShow:4,slidesToScroll:1,arrows:!1,rtl:!!o("body").hasClass("rtl")}),e.on("click",".example-delete-chat",function(e){var t=o(e.target).closest("li");return Swal.fire({title:"Do you want to delete the chat?",showCancelButton:!0,confirmButtonText:"Delete",animation:!1}).then(function(e){e.isConfirmed&&(t.hasClass("active")&&a(),t.slideUp(200,function(){t.remove()}))}),!1}),e.on("click",".example-delete-message",function(e){var t=o(e.target).closest(".message-item");return Swal.fire({title:"Do you want to delete the message?",showCancelButton:!0,confirmButtonText:"Delete from me",animation:!1}).then(function(e){e.isConfirmed&&(ps_chat_content.update(),t.remove())}),!1}),e.on("click",".example-block-user",function(){return Swal.fire({title:"Do you want to block this user?",showCancelButton:!0,confirmButtonText:"Block",animation:!1}).then(function(e){e.isConfirmed&&Swal.fire("Blocked!","","success")}),!1}),e.on("click",".video-call-request",function(){return o("#videoCallRequest").modal("show"),!1}),e.on("click",".video-call-request-accept",function(){return o("#videoCallRequest").modal("hide"),setTimeout(function(){o("#videoCall").modal("show"),o(".chat-stopwatch").stopwatch().stopwatch("start")},500),!1}),e.on("click",".voice-call-request",function(){return o("#voiceCallRequest").modal("show"),!1}),e.on("click",".voice-call-accept",function(){return o("#voiceCallRequest").modal("hide"),setTimeout(function(){o("#voiceCall").modal("show"),o(".chat-stopwatch").stopwatch().stopwatch("start")},500),!1}),e.on("click",".mute-event",function(){o(_this).find("svg").replaceWith(feather.icons["volume-x"].toSvg()),o(_this).removeClass("mute-event"),o(_this).addClass("unmute-event")}),e.on("click",".unmute-event",function(){o(_this).find("svg").replaceWith(feather.icons["volume-2"].toSvg()),o(_this).removeClass("unmute-event"),o(_this).addClass("mute-event")});function n(e){"in-typing"===e.type?o(".messages").append('<div class="message-item in in-typing">\n                <div class="message-content">\n                    <div class="message-text">\n                        <div class="writing-animation">\n                            <div class="writing-animation-line"></div>\n                            <div class="writing-animation-line"></div>\n                            <div class="writing-animation-line"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>'):(o(".messages .message-item.in-typing").remove(),o(".messages").append('<div class="message-item '+e.type+'">\n                <div class="message-avatar">\n                    <figure class="avatar avatar-sm">\n                        <img src="./dist/media/img/'+e.avatar+'" class="rounded-circle" alt="image">\n                    </figure>\n                    <div>\n                        <h5>'+e.name+'</h5>\n                        <div class="time">\n                            Now\n                            '+("out"===e.type?'<i class="ti-double-check text-info"></i>':"")+'\n                        </div>\n                    </div>\n                </div>\n                <div class="message-content">\n                    <div class="message-text">'+e.text+'</div>\n                    <div class="dropdown">\n                        <a href="#" data-toggle="dropdown">\n                            <i class="mdi mdi-dots-horizontal"></i>\n                        </a>\n                        <div class="dropdown-menu dropdown-menu-right">\n                            <a href="#" class="dropdown-item">Reply</a>\n                            <a href="#" class="dropdown-item">Forward</a>\n                            <a href="#" class="dropdown-item">Copy</a>\n                            <a href="#" class="dropdown-item">Starred</a>\n                            <a href="#" class="dropdown-item example-delete-message">Delete</a>\n                        </div>\n                    </div>\n                </div>\n            </div>'))}e.on("submit",".chat .chat-footer form",function(e){e.preventDefault();var t=o(e.target).find("input[type=text].form-control-main"),a=t.val();(a=o.trim(a))?(n({type:"out",text:a,avatar:"avatar9.jpg",name:"Matteo Reedy"}),t.val(""),o(".chat .chat-body").scrollTop(o(".chat .chat-body")[0].scrollHeight),setTimeout(function(){n({type:"in-typing",text:"Hi, do you like this template?",avatar:"avatar2.jpg",name:"Maribel Mallon"}),o(".chat .chat-body").scrollTop(o(".chat .chat-body")[0].scrollHeight)},1e3),setTimeout(function(){n({type:"in",text:"Hi, do you like this template?",avatar:"avatar6.jpg",name:"Maribel Mallon"}),o(".chat .chat-body").scrollTop(o(".chat .chat-body")[0].scrollHeight)},3e3)):t.focus()}),e.on("click",".chat-emojis ul li",function(){var e=o(this).text(),t=o(".chat .chat-footer .form-control.form-control-main");t.val(t.val()+" "+e+" ").focus()}),e.on("click",".left-sidebar .list-group .list-group-item",function(e){return o(".chat").addClass("no-message"),o(".no-message-container").addClass("d-none"),o(".chat-preloader").removeClass("d-none"),o(".left-sidebar .list-group .list-group-item").removeClass("active"),o(e.currentTarget).addClass("active").removeClass("unread-chat").find(".new-message-count").remove(),setTimeout(function(){o(".chat").addClass("open").removeClass("no-message"),o(".no-message-container").removeClass("d-none"),o(".chat-preloader").addClass("d-none"),o(".chat .chat-body").scrollTop(o(".chat .chat-body")[0].scrollHeight)},500),!1}),e.on("click",".example-close-selected-chat",function(){return a()}),e.on("click",".example-chat-close",function(){return a(),!1}),o(".chat .chat-body .messages .message-item .message-content-images a").fancybox(),e.on("click",".example-app-tour-start",function(){return t(),o('[data-toggle="dropdown"]').dropdown("hide"),!1});var a=function(){o(".left-sidebar .list-group .list-group-item").removeClass("active"),o(".chat").addClass("no-message").removeClass("open")},t=function(){introJs().setOptions({steps:[{element:document.querySelector('[data-intro-js="1"]'),intro:"Start a chat, create groups or add friends.",position:"right"},{element:document.querySelector('[data-intro-js="2"]'),intro:"See the chat list."},{element:document.querySelector('[data-intro-js="3"]'),intro:"Manage your account"},{element:document.querySelector('[data-intro-js="4"]'),intro:"Check out other people's stories!"},{element:document.querySelector('[data-intro-js="5"]'),intro:"Choose a chat."},{element:document.querySelector('[data-intro-js="6"]'),intro:"Send messages in the chat."},{element:document.querySelector('[data-intro-js="7"]'),intro:"Check out other operations."}]}).setOption("disableInteraction",!0).start()}}(jQuery);